test_begin("Bitwise");

// AND
test("bitand", 1, 3 & 5);
test("bitand mask", 15, 0xFF & 0x0F);

// OR
test("bitor", 7, 3 | 5);
test("bitor combine", 0xFF, 0xF0 | 0x0F);

// NOT
test("bitnot 0", -1, ~0);
test("bitnot 1", -2, ~1);

// Shift left
test("shl", 16, 1 << 4);
test("shl 10", 1024, 1 << 10);

// Shift right
test("shr", 4, 16 >> 2);
test("shr 10", 1, 1024 >> 10);

// Combinations
test("shift and mask", 0x0F, (0xFF >> 4) & 0x0F);
test("or then and", 1, (5 | 3) & 1);

test_end();
